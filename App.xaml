<Application x:Class="FlexiPOS.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:FlexiPOS.ViewModels"
             xmlns:views="clr-namespace:FlexiPOS.Views"
             StartupUri="MainWindow.xaml"
             ShutdownMode="OnExplicitShutdown">

    <Application.Resources>

        <!-- ===== Premium Dark Theme ===== -->
        <Color x:Key="Bg0">#0B0B12</Color>
        <Color x:Key="Bg1">#101022</Color>
        <Color x:Key="Card">#14142A</Color>
        <Color x:Key="Stroke">#2A2A4A</Color>

        <Color x:Key="Text0">#F2F2FF</Color>
        <Color x:Key="Text1">#B9B9D6</Color>

        <Color x:Key="AccentPurple">#8A2BE2</Color>
        <Color x:Key="AccentBlue">#3A7BFF</Color>

        <Color x:Key="Good">#2ECC71</Color>
        <Color x:Key="Bad">#E74C3C</Color>

        <SolidColorBrush x:Key="BrushBg0" Color="{StaticResource Bg0}" />
        <SolidColorBrush x:Key="BrushBg1" Color="{StaticResource Bg1}" />
        <SolidColorBrush x:Key="BrushCard" Color="{StaticResource Card}" />
        <SolidColorBrush x:Key="BrushStroke" Color="{StaticResource Stroke}" />

        <SolidColorBrush x:Key="BrushText0" Color="{StaticResource Text0}" />
        <SolidColorBrush x:Key="BrushText1" Color="{StaticResource Text1}" />

        <SolidColorBrush x:Key="BrushAccentPurple" Color="{StaticResource AccentPurple}" />
        <SolidColorBrush x:Key="BrushAccentBlue" Color="{StaticResource AccentBlue}" />

        <SolidColorBrush x:Key="BrushGood" Color="{StaticResource Good}" />
        <SolidColorBrush x:Key="BrushBad" Color="{StaticResource Bad}" />

        <CornerRadius x:Key="RadiusLg">18</CornerRadius>
        <CornerRadius x:Key="RadiusMd">14</CornerRadius>

        <Style TargetType="Window">
            <Setter Property="Background" Value="{StaticResource BrushBg0}" />
            <Setter Property="Foreground" Value="{StaticResource BrushText0}" />
            <Setter Property="FontFamily" Value="Segoe UI" />
            <Setter Property="FontSize" Value="16" />
        </Style>

        <Style TargetType="TextBox">
            <Setter Property="Foreground" Value="{StaticResource BrushText0}" />
            <Setter Property="Background" Value="{StaticResource BrushBg1}" />
            <Setter Property="BorderBrush" Value="{StaticResource BrushStroke}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="12,10" />
            <Setter Property="FontSize" Value="20" />
        </Style>

        <Style TargetType="Button">
            <Setter Property="Background" Value="{StaticResource BrushCard}" />
            <Setter Property="Foreground" Value="{StaticResource BrushText0}" />
            <Setter Property="BorderBrush" Value="{StaticResource BrushStroke}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="14,10" />
            <Setter Property="FontSize" Value="18" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{StaticResource RadiusMd}">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="BorderBrush" Value="{StaticResource BrushAccentBlue}" />
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="BorderBrush" Value="{StaticResource BrushAccentPurple}" />
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Opacity" Value="0.55" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- ===== VM -> View DataTemplates (за да няма черен екран) ===== -->
        <DataTemplate DataType="{x:Type vm:LoginViewModel}">
            <views:LoginView />
        </DataTemplate>

        <DataTemplate DataType="{x:Type vm:FloorPlanViewModel}">
            <views:FloorPlanView />
        </DataTemplate>

        <!-- Етап 2 (ако ги paste-неш) -->
        <DataTemplate DataType="{x:Type vm:CategoriesViewModel}">
            <views:CategoriesView />
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:ProductsViewModel}">
            <views:ProductsView />
        </DataTemplate>

    </Application.Resources>
</Application>
