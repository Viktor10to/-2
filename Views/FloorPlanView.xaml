<UserControl x:Class="Flexi2.Views.FloorPlanView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:models="clr-namespace:Flexi2.Models"
             Background="#0B0B0F">

    <Grid>

        <!-- HEADER -->
        <Grid Height="70">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBlock Text="FLOOR PLAN"
                       Foreground="White"
                       FontSize="22"
                       FontWeight="Bold"
                       VerticalAlignment="Center"
                       Margin="25,0"/>

            <Button Content="LOGOUT"
                    Grid.Column="1"
                    Margin="0,0,25,0"
                    Padding="24,10"
                    Background="#7C3AED"
                    Foreground="White"
                    BorderThickness="0"
                    Command="{Binding DataContext.LogoutCommand,
                              RelativeSource={RelativeSource AncestorType=Window}}"/>
        </Grid>

        <!-- TABLES -->
        <Border Margin="25,90,25,25"
                Background="#14141B"
                CornerRadius="20"
                Padding="25">

            <ItemsControl ItemsSource="{Binding Tables}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>

                <ItemsControl.ItemTemplate>
                    <DataTemplate DataType="{x:Type models:TableModel}">
                        <Button Width="120"
                                Height="120"
                                Margin="15"
                                BorderThickness="0"
                                Background="{Binding StatusBrush}"
                                Command="{Binding DataContext.OpenTableCommand,
                                          RelativeSource={RelativeSource AncestorType=UserControl}}"
                                CommandParameter="{Binding}">
                            <TextBlock Text="{Binding Number}"
                                       FontSize="36"
                                       FontWeight="Bold"
                                       Foreground="White"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"/>
                        </Button>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>

        </Border>
    </Grid>
</UserControl>
